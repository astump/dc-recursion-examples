<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>DivConq.FunctorGenerators.Functorializer</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library DivConq.FunctorGenerators.Functorializer</h1>

<div class="code">
</div>

<div class="doc">
<a id="lab35"></a><h1 class="section">Functorializer -- generating D&amp;C datatypes from inductive Coq definitions.</h1>

<div class="paragraph"> </div>

 This file converts a datatype to it's functorial representation
   using the interface described in dc-recursion/.../List.v 
</div>
<div class="code">
<span class="id" title="keyword">From</span> <span class="id" title="var">idt</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">all</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MetaCoq.Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">utils</span> <span class="id" title="library">All</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq.Strings</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.Ascii.html#"><span class="id" title="library">Ascii</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="DivConq.Dc.Dc.html#"><span class="id" title="library">Dc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="DivConq.Dc.Dci.html#"><span class="id" title="library">Dci</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="DivConq.Dc.Kinds.html#"><span class="id" title="library">Kinds</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="DivConq.Dc.Functors.html#"><span class="id" title="library">Functors</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="DivConq.Dc.Mu.html#"><span class="id" title="library">Mu</span></a>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="extract_params" class="idref" href="#extract_params"><span class="id" title="definition">extract_params</span></a> (<a id="t:1" class="idref" href="#t:1"><span class="id" title="binder">t</span></a> : <span class="id" title="inductive">term</span>) (<a id="n:2" class="idref" href="#n:2"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="definition">aname</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="inductive">term</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:2"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:1"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tProd</span> <span class="id" title="var">s</span> <span class="id" title="var">ty</span> <span class="id" title="var">t'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#extract_params:3"><span class="id" title="definition">extract_params</span></a> <span class="id" title="var">t'</span> <span class="id" title="var">n'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="extract_ty_ret" class="idref" href="#extract_ty_ret"><span class="id" title="definition">extract_ty_ret</span></a> (<a id="t:6" class="idref" href="#t:6"><span class="id" title="binder">t</span></a> : <span class="id" title="inductive">term</span>) : <span class="id" title="inductive">term</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:6"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tProd</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t'</span> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#extract_ty_ret:7"><span class="id" title="definition">extract_ty_ret</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">t</span> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:6"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="mk_indparam" class="idref" href="#mk_indparam"><span class="id" title="definition">mk_indparam</span></a> (<a id="s:9" class="idref" href="#s:9"><span class="id" title="binder">s</span></a> : <span class="id" title="definition">aname</span>) (<a id="t:10" class="idref" href="#t:10"><span class="id" title="binder">t</span></a> : <span class="id" title="inductive">term</span>) : <span class="id" title="record">context_decl</span> :=<br/>
&nbsp;&nbsp;{| <span class="id" title="projection">decl_name</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#s:9"><span class="id" title="variable">s</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">decl_body</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">decl_type</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:10"><span class="id" title="variable">t</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_level" class="idref" href="#get_level"><span class="id" title="definition">get_level</span></a> (<a id="t:11" class="idref" href="#t:11"><span class="id" title="binder">t</span></a> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="definition">LevelSet.elt</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:11"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tSort</span> (<span class="id" title="constructor">Universe.lType</span> {|<span class="id" title="projection">Universe.t_set</span> := {| <span class="id" title="projection">UnivExprSet.this</span> := <span class="id" title="var">xs</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">xs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="count_tProds'" class="idref" href="#count_tProds'"><span class="id" title="definition">count_tProds'</span></a> (<a id="n:13" class="idref" href="#n:13"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)  (<a id="t:14" class="idref" href="#t:14"><span class="id" title="binder">t</span></a> : <span class="id" title="inductive">term</span>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:14"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tProd</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">t'</span> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#count_tProds':15"><span class="id" title="definition">count_tProds'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:13"><span class="id" title="variable">n</span></a>) <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:13"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="count_tProds" class="idref" href="#count_tProds"><span class="id" title="definition">count_tProds</span></a> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#count_tProds'"><span class="id" title="definition">count_tProds'</span></a> 0.<br/>

<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="hlist" class="idref" href="#hlist"><span class="id" title="inductive">hlist</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="HNil" class="idref" href="#HNil"><span class="id" title="constructor">HNil</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist:17"><span class="id" title="inductive">hlist</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
| <a id="HCons" class="idref" href="#HCons"><span class="id" title="constructor">HCons</span></a> : <span class="id" title="keyword">∀</span> (<a id="x:19" class="idref" href="#x:19"><span class="id" title="binder">x</span></a>:<span class="id" title="keyword">Type</span>) (<a id="ls:20" class="idref" href="#ls:20"><span class="id" title="binder">ls</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="keyword">Type</span>), <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#x:19"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist:17"><span class="id" title="inductive">hlist</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ls:20"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist:17"><span class="id" title="inductive">hlist</span></a> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#x:19"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ls:20"><span class="id" title="variable">ls</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="hget" class="idref" href="#hget"><span class="id" title="definition">hget</span></a> (<a id="ls:21" class="idref" href="#ls:21"><span class="id" title="binder">ls</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="keyword">Type</span>) (<a id="hls:22" class="idref" href="#hls:22"><span class="id" title="binder">hls</span></a>:<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist"><span class="id" title="inductive">hlist</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ls:21"><span class="id" title="variable">ls</span></a>) (<a id="n:23" class="idref" href="#n:23"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>){<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ls:21"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Empty_set"><span class="id" title="inductive">Empty_set</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hls:22"><span class="id" title="variable">hls</span></a> <span class="id" title="tactic">in</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist"><span class="id" title="inductive">hlist</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">return</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:23"><span class="id" title="variable">n</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Empty_set"><span class="id" title="inductive">Empty_set</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HNil"><span class="id" title="constructor">HNil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HCons"><span class="id" title="constructor">HCons</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HCons"><span class="id" title="constructor">HCons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">ys</span> <span class="id" title="var">_</span> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:23"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hget:24"><span class="id" title="definition">hget</span></a> <span class="id" title="var">ys</span> <span class="id" title="var">xs</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="hmap" class="idref" href="#hmap"><span class="id" title="definition">hmap</span></a> (<a id="ls:28" class="idref" href="#ls:28"><span class="id" title="binder">ls</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="keyword">Type</span>) (<a id="hls:29" class="idref" href="#hls:29"><span class="id" title="binder">hls</span></a>: <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist"><span class="id" title="inductive">hlist</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ls:28"><span class="id" title="variable">ls</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">hls</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> (<a id="A:30" class="idref" href="#A:30"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:30"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:30"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fun</span> <a id="f:36" class="idref" href="#f:36"><span class="id" title="binder">f</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">hls</span> <span class="id" title="tactic">in</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist"><span class="id" title="inductive">hlist</span></a> <span class="id" title="var">l</span> <span class="id" title="keyword">return</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l:34"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ls</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HNil"><span class="id" title="constructor">HNil</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmReturn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HCons"><span class="id" title="constructor">HCons</span></a> <span class="id" title="var">T</span> <span class="id" title="var">ys</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> ⇒ <span class="id" title="keyword">fun</span> (<a id="eq:39" class="idref" href="#eq:39"><span class="id" title="binder">eq</span></a> : <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ys</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ls</span>) ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#f:32"><span class="id" title="variable">f</span></a> <span class="id" title="var">s</span> <span class="id" title="var">T</span> <span class="id" title="var">x</span><span class="id" title="notation">;;</span> <span class="id" title="var">hmap</span> <span class="id" title="var">ys</span> <span class="id" title="var">xs</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#f:32"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HCons"><span class="id" title="constructor">HCons</span></a> [<span class="id" title="var">x</span> <span class="id" title="var">ls</span>] <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hget"><span class="id" title="definition">hget</span></a> [<span class="id" title="var">ls</span>].<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="list'" class="idref" href="#list'"><span class="id" title="inductive">list'</span></a> (<a id="A:40" class="idref" href="#A:40"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>) : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="nil'" class="idref" href="#nil'"><span class="id" title="constructor">nil'</span></a>  : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list':41"><span class="id" title="inductive">list'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:40"><span class="id" title="variable">A</span></a><br/>
| <a id="cons'" class="idref" href="#cons'"><span class="id" title="constructor">cons'</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:40"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list':41"><span class="id" title="inductive">list'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:40"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list':41"><span class="id" title="inductive">list'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:40"><span class="id" title="variable">A</span></a>.<br/>

<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nil'"><span class="id" title="constructor">nil'</span></a> {<span class="id" title="var">A</span>}.<br/>
<span class="id" title="var">Arguments</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> {<span class="id" title="var">_</span>}.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MonadOperations" class="idref" href="#MonadOperations"><span class="id" title="section">MonadOperations</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="T:43" class="idref" href="#T:43"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span>} {<a id="M:44" class="idref" href="#M:44"><span class="id" title="binder">M</span></a> : <span class="id" title="class">Monad</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T:43"><span class="id" title="variable">T</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<a id="A:45" class="idref" href="#A:45"><span class="id" title="binder">A</span></a> <a id="B:46" class="idref" href="#B:46"><span class="id" title="binder">B</span></a>} (<a id="f:47" class="idref" href="#f:47"><span class="id" title="binder">f</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:45"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#B:46"><span class="id" title="variable">B</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<a id="h:48" class="idref" href="#h:48"><span class="id" title="binder">h</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.T"><span class="id" title="variable">T</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.B"><span class="id" title="variable">B</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="monad_map_i_aux'" class="idref" href="#monad_map_i_aux'"><span class="id" title="definition">monad_map_i_aux'</span></a> (<a id="n0:49" class="idref" href="#n0:49"><span class="id" title="binder">n0</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="l:50" class="idref" href="#l:50"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.T"><span class="id" title="variable">T</span></a> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list'"><span class="id" title="inductive">list'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.B"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l:50"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <span class="id" title="method">ret</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nil'"><span class="id" title="constructor">nil'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒ <a id="x':53" class="idref" href="#x':53"><span class="id" title="binder">x'</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations.h"><span class="id" title="variable">h</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n0:49"><span class="id" title="variable">n0</span></a> <span class="id" title="var">x</span><span class="id" title="notation">)</span> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="l':54" class="idref" href="#l':54"><span class="id" title="binder">l'</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#monad_map_i_aux':51"><span class="id" title="definition">monad_map_i_aux'</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n0:49"><span class="id" title="variable">n0</span></a>) <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l:50"><span class="id" title="variable">l</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#x':53"><span class="id" title="variable">x'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l':54"><span class="id" title="variable">l'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="monad_map_i'" class="idref" href="#monad_map_i'"><span class="id" title="definition">monad_map_i'</span></a> := @<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#monad_map_i_aux'"><span class="id" title="definition">monad_map_i_aux'</span></a> 0.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#MonadOperations"><span class="id" title="section">MonadOperations</span></a>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="tsf_ctors_ty'" class="idref" href="#tsf_ctors_ty'"><span class="id" title="abbreviation">tsf_ctors_ty'</span></a> <span class="id" title="var">T</span> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list'"><span class="id" title="inductive">list'</span></a> (<span class="id" title="definition">ident</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="get_ctors'" class="idref" href="#get_ctors'"><span class="id" title="definition">get_ctors'</span></a> {<a id="T:55" class="idref" href="#T:55"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} (<a id="t:56" class="idref" href="#t:56"><span class="id" title="binder">t</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T:55"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;: <span class="id" title="inductive">TemplateMonad</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list'"><span class="id" title="inductive">list'</span></a> (<span class="id" title="definition">ident</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="record">typed_term@</span>{<span class="id" title="keyword">Type</span>})) :=<br/>
&nbsp;&nbsp;<a id="tm:57" class="idref" href="#tm:57"><span class="id" title="binder">tm</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmQuote</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:56"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tm:57"><span class="id" title="variable">tm</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="constructor">tInd</span> <span class="id" title="var">ind</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mind:59" class="idref" href="#mind:59"><span class="id" title="binder">mind</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmQuoteInductive</span> <span class="id" title="var">ind</span>.(<span class="id" title="projection">inductive_mind</span>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:59"><span class="id" title="variable">mind</span></a>.(<span class="id" title="projection">ind_bodies</span>) <span class="id" title="var">ind</span>.(<span class="id" title="projection">inductive_ind</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#monad_map_i'"><span class="id" title="definition">monad_map_i'</span></a> (<span class="id" title="keyword">fun</span> <a id="i:60" class="idref" href="#i:60"><span class="id" title="binder">i</span></a> '<a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">(</span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">name</span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">,</span></a> <a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">_</span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">,</span></a> <a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">_</span></a><a id="pat:62" class="idref" href="#pat:62"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="tm:63" class="idref" href="#tm:63"><span class="id" title="binder">tm</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmUnquote</span> (<span class="id" title="constructor">tConstruct</span> <span class="id" title="var">ind</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#i:60"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">ret</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#pair"><span class="id" title="constructor">pair</span></a> <span class="id" title="var">_</span> <span class="id" title="record">typed_term</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#name:61"><span class="id" title="variable">name</span></a> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tm:63"><span class="id" title="variable">tm</span></a> : <span class="id" title="record">typed_term</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">body</span>.(<span class="id" title="projection">ind_ctors</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmFail</span> "No body found"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmFail</span> "Not an inductive type"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="nth_error'" class="idref" href="#nth_error'"><span class="id" title="definition">nth_error'</span></a> {<a id="A:64" class="idref" href="#A:64"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="l:65" class="idref" href="#l:65"><span class="id" title="binder">l</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#list'"><span class="id" title="inductive">list'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:64"><span class="id" title="variable">A</span></a>) (<a id="n:66" class="idref" href="#n:66"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:64"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:66"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l:65"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nil'"><span class="id" title="constructor">nil'</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> <span class="id" title="var">x</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#l:65"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nil'"><span class="id" title="constructor">nil'</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l0</span> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nth_error':67"><span class="id" title="definition">nth_error'</span></a> <span class="id" title="var">l0</span> <span class="id" title="var">n0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="var">Polymorphic</span> <span class="id" title="keyword">Definition</span> <a id="get_corresp_ctor" class="idref" href="#get_corresp_ctor"><span class="id" title="definition">get_corresp_ctor</span></a> {<a id="T:71" class="idref" href="#T:71"><span class="id" title="binder">T</span></a> <a id="T':72" class="idref" href="#T':72"><span class="id" title="binder">T'</span></a>: <span class="id" title="keyword">Type</span>} (<a id="tf:73" class="idref" href="#tf:73"><span class="id" title="binder">tf</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T':72"><span class="id" title="variable">T'</span></a>) (<a id="t:74" class="idref" href="#t:74"><span class="id" title="binder">t</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T:71"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{<a id="ty:75" class="idref" href="#ty:75"><span class="id" title="binder">ty</span></a> : @<span class="id" title="class">QuoteTermOf</span> <span class="id" title="var">_</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:74"><span class="id" title="variable">t</span></a>} : <span class="id" title="inductive">TemplateMonad</span> <span class="id" title="record">typed_term@</span>{<span class="id" title="keyword">Type</span>} :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ty:75"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tConstruct</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="terms:77" class="idref" href="#terms:77"><span class="id" title="binder">terms</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#get_ctors'"><span class="id" title="definition">get_ctors'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tf:73"><span class="id" title="variable">tf</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="t':78" class="idref" href="#t':78"><span class="id" title="binder">t'</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmEval</span> <span class="id" title="constructor">cbv</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nth_error'"><span class="id" title="definition">nth_error'</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#terms:77"><span class="id" title="variable">terms</span></a> <span class="id" title="var">i</span>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t':78"><span class="id" title="variable">t'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t''</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="constructor">tmReturn</span> (<span class="id" title="var">t''</span> : <span class="id" title="record">typed_term</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="id" title="constructor">tmFail</span> "could not find matching constructor"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmFail</span> "type is not a tConstruct"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
ind_gen' adapts <span class="inlinecode"><span class="id" title="var">ind_gen</span></span> from idt.v to accomodate the changes made
   to the parameters of the new datatype. ind_gen' takes various bits
   of information about the source type and target functorial
   representation, and produces a deeply-embedded program in the
   TemplateMonad. Running MetaCoq over this program adds the new
   datatype definition to the environment. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="ind_gen'" class="idref" href="#ind_gen'"><span class="id" title="definition">ind_gen'</span></a> (<a id="T:80" class="idref" href="#T:80"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>) (<a id="name:81" class="idref" href="#name:81"><span class="id" title="binder">name</span></a> : <span class="id" title="definition">ident</span>) (<a id="ctors:82" class="idref" href="#ctors:82"><span class="id" title="binder">ctors</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<span class="id" title="definition">ident</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="inductive">term</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="mind:83" class="idref" href="#mind:83"><span class="id" title="binder">mind</span></a> : <span class="id" title="record">mutual_inductive_body</span>) (<a id="i:84" class="idref" href="#i:84"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <span class="id" title="inductive">TemplateMonad</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;<a id="ty:85" class="idref" href="#ty:85"><span class="id" title="binder">ty</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmQuote</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T:80"><span class="id" title="variable">T</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:83"><span class="id" title="variable">mind</span></a>.(<span class="id" title="projection">ind_bodies</span>) <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#i:84"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ind</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="npars:86" class="idref" href="#npars:86"><span class="id" title="binder">npars</span></a> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:83"><span class="id" title="variable">mind</span></a>.(<span class="id" title="projection">ind_npars</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctors:91" class="idref" href="#ctors:91"><span class="id" title="binder">ctors</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:89" class="idref" href="#pat:89"><span class="id" title="binder">(</span></a><a id="pat:89" class="idref" href="#pat:89"><span class="id" title="binder">n</span></a><a id="pat:89" class="idref" href="#pat:89"><span class="id" title="binder">,</span></a> <a id="pat:89" class="idref" href="#pat:89"><span class="id" title="binder">t</span></a><a id="pat:89" class="idref" href="#pat:89"><span class="id" title="binder">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="t':90" class="idref" href="#t':90"><span class="id" title="binder">t'</span></a> := <span class="id" title="definition">try_remove_n_lambdas</span> 1 <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:87"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:88"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t':90"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#count_tProds"><span class="id" title="definition">count_tProds</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t':90"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#npars:86"><span class="id" title="variable">npars</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ctors:82"><span class="id" title="variable">ctors</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="params:92" class="idref" href="#params:92"><span class="id" title="binder">params</span></a> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#extract_params"><span class="id" title="definition">extract_params</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ty:85"><span class="id" title="variable">ty</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#npars:86"><span class="id" title="variable">npars</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="indparam:96" class="idref" href="#indparam:96"><span class="id" title="binder">indparam</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">(</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">s</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">,</span></a> <a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">t</span></a><a id="pat:95" class="idref" href="#pat:95"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mk_indparam"><span class="id" title="definition">mk_indparam</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#s:94"><span class="id" title="variable">s</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:93"><span class="id" title="variable">t</span></a>) <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#params:92"><span class="id" title="variable">params</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="univ:97" class="idref" href="#univ:97"><span class="id" title="binder">univ</span></a> := <span class="id" title="constructor">Monomorphic_ctx</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="definition">LevelSetProp.of_list</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="definition">ConstraintSet.empty</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ind':98" class="idref" href="#ind':98"><span class="id" title="binder">ind'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id" title="projection">ind_finite</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:83"><span class="id" title="variable">mind</span></a>.(<span class="id" title="projection">ind_finite</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_npars</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:83"><span class="id" title="variable">mind</span></a>.(<span class="id" title="projection">ind_npars</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> 1;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_universes</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#univ:97"><span class="id" title="variable">univ</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_variance</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:83"><span class="id" title="variable">mind</span></a>.(<span class="id" title="projection">ind_variance</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_params</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#indparam:96"><span class="id" title="variable">indparam</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_bodies</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">{|</span></a> <span class="id" title="projection">ind_name</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#name:81"><span class="id" title="variable">name</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_type</span>  := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ty:85"><span class="id" title="variable">ty</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_kelim</span> := <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_kelim</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_ctors</span> := <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ctors:91"><span class="id" title="variable">ctors</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_projs</span> := <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_projs</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">ind_relevance</span> := <span class="id" title="var">ind</span>.(<span class="id" title="projection">ind_relevance</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">|}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">tmMkInductive'</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ind':98"><span class="id" title="variable">ind'</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmFail</span> "No body found"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="getTerm" class="idref" href="#getTerm"><span class="id" title="definition">getTerm</span></a> (<a id="q:99" class="idref" href="#q:99"><span class="id" title="binder">q</span></a> : <span class="id" title="definition">qualid</span>) : <span class="id" title="inductive">TemplateMonad</span> <span class="id" title="record">typed_term</span> :=<br/>
&nbsp;&nbsp;<a id="kn:100" class="idref" href="#kn:100"><span class="id" title="binder">kn</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">tmLocate1</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#q:99"><span class="id" title="variable">q</span></a> <span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#kn:100"><span class="id" title="variable">kn</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">IndRef</span> <span class="id" title="var">ind</span> ⇒ <span class="id" title="constructor">tmUnquote</span> (<span class="id" title="constructor">tInd</span> <span class="id" title="var">ind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmFail</span> ("[" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#q:99"><span class="id" title="variable">q</span></a> <span class="id" title="notation">^</span> "] is not an inductive")<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ind_name" class="idref" href="#ind_name"><span class="id" title="definition">ind_name</span></a> {<a id="T:102" class="idref" href="#T:102"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>} (<a id="t:103" class="idref" href="#t:103"><span class="id" title="binder">t</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T:102"><span class="id" title="variable">T</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="t:104" class="idref" href="#t:104"><span class="id" title="binder">t</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmQuote</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:103"><span class="id" title="variable">t</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="name:106" class="idref" href="#name:106"><span class="id" title="binder">name</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#t:104"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">tInd</span> {| <span class="id" title="projection">inductive_mind</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">name</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> |} <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmReturn</span> <span class="id" title="var">name</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="constructor">tmFail</span> "not an inductive"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">tmReturn</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#name:106"><span class="id" title="variable">name</span></a>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "tsf_ctors'" <span class="id" title="keyword">constr</span>(<span class="id" title="var">ind</span>) <span class="id" title="var">open_constr</span>(<span class="id" title="var">tsf_ident</span>) <span class="id" title="var">tactic3</span>(<span class="id" title="var">tsf_ctor</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">run_template_program</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#get_ctors'"><span class="id" title="definition">get_ctors'</span></a> <span class="id" title="var">ind</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">xs</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">xs</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">name</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="constructor">existT_typed_term</span> <span class="id" title="var">_</span> ?<span class="id" title="var">ctor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> ?<span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">tsf_ident</span> <span class="id" title="var">name</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">_</span>); [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hc</span> <span class="id" title="var">R</span>; <span class="id" title="var">tsf_ctor</span> <span class="id" title="var">ctor</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">go</span> <span class="id" title="var">xs</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#nil'"><span class="id" title="constructor">nil'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">xs</span>).<br/>

<br/>

<br/>
</div>

<div class="doc">
We start by defining some example datatypes that we to convert. We
   stick to Set for now in order to avoid dealing with universes.  
<div class="paragraph"> </div>

 The first step in building a functor-based representation of a type is
   to build a new type that includes the functor's inductive parameter. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">buildFunKind</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">buildFunKind'</span> <span class="id" title="var">K</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">K</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:108" class="idref" href="#A:108"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), ?<span class="id" title="var">M</span> ⇒  <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:113" class="idref" href="#A:113"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), <span class="id" title="var">_</span>); <span class="id" title="var">buildFunKind'</span> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:110" class="idref" href="#A:110"><span class="id" title="binder">A</span></a> :?<span class="id" title="var">Z</span>), ?<span class="id" title="var">M</span> ⇒  <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:112" class="idref" href="#A:112"><span class="id" title="binder">A</span></a> : <span class="id" title="var">Z</span>), <span class="id" title="var">_</span>); <span class="id" title="var">buildFunKind'</span> <span class="id" title="var">M</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">U</span> ⇒ <span class="id" title="tactic">exact</span> (<span class="id" title="keyword">∀</span> (<a id="X:111" class="idref" href="#X:111"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Set</span>), <span class="id" title="keyword">Set</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">K</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">T</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">buildFunKind'</span> <span class="id" title="var">K</span>.<br/>

<br/>
</div>

<div class="doc">
This helper function gets the codomain of a type. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">codTy</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<span class="id" title="var">_</span> : <span class="id" title="var">_</span>), ?<span class="id" title="var">U</span> ⇒ <span class="id" title="var">codTy</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;| ?<span class="id" title="var">U</span> ⇒ <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="to_upper_num" class="idref" href="#to_upper_num"><span class="id" title="definition">to_upper_num</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" title="definition">nat_of_ascii</span></a> "a" <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" title="definition">nat_of_ascii</span></a> "A".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="to_upper" class="idref" href="#to_upper"><span class="id" title="definition">to_upper</span></a> <a id="c:114" class="idref" href="#c:114"><span class="id" title="binder">c</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.Ascii.html#ascii_of_nat"><span class="id" title="definition">ascii_of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.Ascii.html#nat_of_ascii"><span class="id" title="definition">nat_of_ascii</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#c:114"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#to_upper_num"><span class="id" title="definition">to_upper_num</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="fst_upper" class="idref" href="#fst_upper"><span class="id" title="definition">fst_upper</span></a> (<a id="s:115" class="idref" href="#s:115"><span class="id" title="binder">s</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#s:115"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#EmptyString"><span class="id" title="constructor">EmptyString</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#EmptyString"><span class="id" title="constructor">EmptyString</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> <span class="id" title="var">c</span> <span class="id" title="var">s'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#String"><span class="id" title="constructor">String</span></a> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#to_upper"><span class="id" title="definition">to_upper</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">s'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
This tactic constructs a deep embedding of the constructors for the
   functorial representation of the the type T, using X as the name for the parameter of the functor.  f is the function to be used to build the of the constructors
 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">buildFunCtors</span> <span class="id" title="var">X</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span>:=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">tsf_ctors'</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> <span class="id" title="var">R</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">R</span> := <span class="id" title="tactic">eval</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">R</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">ctor</span> := <span class="id" title="var">c</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rector</span> <span class="id" title="var">ty</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:118" class="idref" href="#A:118"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), ?<span class="id" title="var">U</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:122" class="idref" href="#A:122"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">ctor</span> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">R</span> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rector</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:120" class="idref" href="#A:120"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), ?<span class="id" title="var">U</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:121" class="idref" href="#A:121"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">specialize</span> (<span class="id" title="var">ctor</span> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">R</span> <span class="id" title="var">A</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rector</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Ty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">R</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rector</span> <span class="id" title="var">Ty</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ctorTy</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">ctor</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Cty</span> := <span class="id" title="var">codTy</span> <span class="id" title="var">ctorTy</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">genFunCtor</span> <span class="id" title="var">ty</span> := <span class="id" title="keyword">lazymatch</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:124" class="idref" href="#A:124"><span class="id" title="binder">A</span></a> : <span class="id" title="var">Cty</span>), ?<span class="id" title="var">U</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:128" class="idref" href="#A:128"><span class="id" title="binder">A</span></a> : <span class="id" title="var">X</span>), <span class="id" title="var">_</span>); <span class="id" title="var">genFunCtor</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> <a id="A:126" class="idref" href="#A:126"><span class="id" title="binder">A</span></a> : ?<span class="id" title="var">S</span>, ?<span class="id" title="var">U</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:127" class="idref" href="#A:127"><span class="id" title="binder">A</span></a> : <span class="id" title="var">S</span>), <span class="id" title="var">_</span>); <span class="id" title="var">genFunCtor</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Cty</span> ⇒ <span class="id" title="tactic">exact</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">genFunCtor</span> <span class="id" title="var">ctorTy</span>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'unfolded'_x" class="idref" href="#:::'unfolded'_x"><span class="id" title="notation">&quot;</span></a>'unfolded' d" :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">let</span> <span class="id" title="var">y</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="var">d</span> <span class="id" title="tactic">in</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 100, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="ltac_Mark" class="idref" href="#ltac_Mark"><span class="id" title="inductive">ltac_Mark</span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;| <a id="ltac_mark" class="idref" href="#ltac_mark"><span class="id" title="constructor">ltac_mark</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ltac_Mark:129"><span class="id" title="inductive">ltac_Mark</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">gen_until_mark</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> <span class="id" title="var">H</span>: ?<span class="id" title="var">U</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">U</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ltac_Mark"><span class="id" title="inductive">ltac_Mark</span></a> ⇒ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="var">gen_until_mark</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intro_until_mark</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| |- (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ltac_Mark"><span class="id" title="inductive">ltac_Mark</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="tactic">intros</span> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">intro</span>; <span class="id" title="var">intro_until_mark</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">gen_mark</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ltac_mark"><span class="id" title="constructor">ltac_mark</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">generalize</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_mark</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ltac_Mark"><span class="id" title="inductive">ltac_Mark</span></a> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="mainT" class="idref" href="#mainT"><span class="id" title="inductive">mainT</span></a> : <span class="id" title="keyword">Type</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a id="mT" class="idref" href="#mT"><span class="id" title="constructor">mT</span></a> : <span class="id" title="keyword">∀</span> (<a id="T:133" class="idref" href="#T:133"><span class="id" title="binder">T</span></a> : <span class="id" title="keyword">Type</span>), <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mainT:131"><span class="id" title="inductive">mainT</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#T:133"><span class="id" title="variable">T</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">markT</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">T</span> : <span class="id" title="keyword">Set</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">pose</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mT"><span class="id" title="constructor">mT</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">T</span> : <span class="id" title="keyword">Type</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">pose</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mT"><span class="id" title="constructor">mT</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="Param" class="idref" href="#Param"><span class="id" title="inductive">Param</span></a> : <span class="id" title="keyword">Set</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Type</span> :=<br/>
| <a id="param" class="idref" href="#param"><span class="id" title="constructor">param</span></a> : <span class="id" title="keyword">∀</span> (<a id="A:136" class="idref" href="#A:136"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>) (<a id="n:137" class="idref" href="#n:137"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>), <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#Param:134"><span class="id" title="inductive">Param</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#A:136"><span class="id" title="variable">A</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#n:137"><span class="id" title="variable">n</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">markparam</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#param"><span class="id" title="constructor">param</span></a> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">mark_param</span> <span class="id" title="var">S</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "p" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#param"><span class="id" title="constructor">param</span></a> <span class="id" title="var">S</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">refine_params</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">U</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:139" class="idref" href="#A:139"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:143" class="idref" href="#A:143"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Set</span>), (<span class="id" title="var">_</span> : <span class="id" title="keyword">Set</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mark_param</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">V</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:141" class="idref" href="#A:141"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:142" class="idref" href="#A:142"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Set</span>), (<span class="id" title="var">_</span> : <span class="id" title="keyword">Set</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mark_param</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">V</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">SU</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">S</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">SU</span> <span class="id" title="keyword">constr</span>:(0).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">nparam</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">U</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:145" class="idref" href="#A:145"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="var">go</span> <span class="id" title="var">V</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:147" class="idref" href="#A:147"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="var">go</span> <span class="id" title="var">V</span> <span class="id" title="keyword">constr</span>:(<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">SU</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">S</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">SU</span> 0.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">refine_params'</span> <span class="id" title="var">S</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">U</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:149" class="idref" href="#A:149"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:153" class="idref" href="#A:153"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Set</span>), (<span class="id" title="var">_</span> : <span class="id" title="keyword">Type</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mark_param</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">V</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:151" class="idref" href="#A:151"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="A:152" class="idref" href="#A:152"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Set</span>), (<span class="id" title="var">_</span> : <span class="id" title="keyword">Type</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mark_param</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">V</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">SU</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">S</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">SU</span> <span class="id" title="keyword">constr</span>:(0).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">buildApp</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">A</span> : <span class="id" title="keyword">Set</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">A</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span>; <span class="id" title="var">buildApp</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> <span class="id" title="var">U</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">buildParams</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#Param"><span class="id" title="inductive">Param</span></a> ?<span class="id" title="var">A</span> <span class="id" title="var">n</span> |- <span class="id" title="var">_</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> (<span class="id" title="var">U</span> <span class="id" title="var">A</span>) <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">U</span><br/>
<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">U</span> <span class="id" title="keyword">constr</span>:(0).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "build_params" <span class="id" title="var">open_constr</span>(<span class="id" title="var">U</span>) "&gt;&gt;" <span class="id" title="var">tactic</span>(<span class="id" title="var">tac</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">K</span> := <span class="id" title="var">buildParams</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">tac</span> <span class="id" title="var">K</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "build_params" <span class="id" title="var">open_constr</span>(<span class="id" title="var">U</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">U</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "K" <span class="id" title="tactic">in</span> <span class="id" title="tactic">pose</span> <span class="id" title="var">K</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "exact_build" <span class="id" title="var">open_constr</span>(<span class="id" title="var">U</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">U</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="tactic">exact</span> <span class="id" title="var">K</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_constr</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">C</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="var">get_head</span> <span class="id" title="var">C</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">countP</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">U</span> <span class="id" title="var">n</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">U</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<span class="id" title="var">_</span> : <span class="id" title="var">_</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="var">go</span> <span class="id" title="var">V</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">t</span> 0.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">number_to_nat</span> <span class="id" title="var">N</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">N</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <span class="id" title="keyword">constr</span>:(<span class="id" title="var">N</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">markfst</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">reverse</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">U</span> : <span class="id" title="keyword">Set</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mainT"><span class="id" title="inductive">mainT</span></a> <span class="id" title="var">U</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "param" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen_mark</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#param"><span class="id" title="constructor">param</span></a> <span class="id" title="var">U</span> <span class="id" title="var">n</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">U</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">intro_until_mark</span>; <span class="id" title="var">clear_mark</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">markN</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=  <span class="id" title="keyword">match</span> <span class="id" title="var">number_to_nat</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="var">markfst</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">x'</span> ⇒ <span class="id" title="var">markfst</span> <span class="id" title="var">y</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">y</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">x'</span> <span class="id" title="var">y</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">x</span> 0.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">mark_params</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="var">countP</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">markN</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">introN</span> <span class="id" title="var">n</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> ?<span class="id" title="var">x'</span> ⇒ <span class="id" title="tactic">intro</span>; <span class="id" title="var">introN</span> <span class="id" title="var">x'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intro_params</span> <span class="id" title="var">U</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="var">countP</span> <span class="id" title="var">U</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">n</span> <span class="id" title="tactic">in</span><br/>
<span class="id" title="var">introN</span> <span class="id" title="var">n</span>; <span class="id" title="var">markN</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">func_params</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">n</span> := <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">∀</span> (<a id="A:155" class="idref" href="#A:155"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fun</span> (<a id="A:159" class="idref" href="#A:159"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Set</span>) ⇒ <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mark_param</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">∀</span> (<a id="A:157" class="idref" href="#A:157"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>), ?<span class="id" title="var">V</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fun</span> (<a id="A:158" class="idref" href="#A:158"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Set</span>) ⇒ <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">mark_param</span> <span class="id" title="var">A</span> <span class="id" title="var">n</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a>1) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="keyword">constr</span>:(0).<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfmap_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> <a id="X1:160" class="idref" href="#X1:160"><span class="id" title="binder">X1</span></a> <a id="X2:161" class="idref" href="#X2:161"><span class="id" title="binder">X2</span></a>, <a class="idref" href="DivConq.Dc.Functors.html#FmapT"><span class="id" title="definition">FmapT</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#X1:160"><span class="id" title="variable">X1</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#X2:161"><span class="id" title="variable">X2</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">exact_build</span> <span class="id" title="var">TF</span> .<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfmap</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">intro_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DivConq.Dc.Functors.html#FmapT"><span class="id" title="definition">FmapT</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">X1</span> := <span class="id" title="tactic">fresh</span> "X" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">X2</span> := <span class="id" title="tactic">fresh</span> "X" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <span class="id" title="tactic">fresh</span> "f" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="tactic">fresh</span> "t" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X1</span> <span class="id" title="var">X2</span> <span class="id" title="var">f</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ct</span> := <span class="id" title="tactic">fresh</span> "ct" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> <span class="id" title="var">ct</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">ct</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ct</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">constr</span> := <span class="id" title="var">get_head</span> <span class="id" title="var">c</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">x</span> := <span class="id" title="keyword">match</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">K</span> ?<span class="id" title="var">a</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">X1</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> (<span class="id" title="var">f</span> <span class="id" title="var">a</span>)); <span class="id" title="var">go</span> <span class="id" title="var">K</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">X1</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">X2</span>); <span class="id" title="var">go</span> <span class="id" title="var">K</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">a</span>); <span class="id" title="var">go</span> <span class="id" title="var">K</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> <span class="id" title="keyword">constr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">c</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfFunctor_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>; <span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="tactic">exact</span> (<a class="idref" href="DivConq.Dc.Functors.html#Functor"><span class="id" title="class">Functor</span></a> <span class="id" title="var">K</span>)).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "tfMapId_kind" <span class="id" title="keyword">constr</span>(<span class="id" title="var">T</span>) <span class="id" title="keyword">constr</span>(<span class="id" title="var">TF</span>) <span class="id" title="keyword">constr</span>(<span class="id" title="var">tfmap</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">H</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">tfmap</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">M</span> ⇒ <span class="id" title="tactic">exact</span> (<a class="idref" href="DivConq.Dc.Functors.html#FmapId"><span class="id" title="definition">FmapId</span></a> <span class="id" title="var">H</span> <span class="id" title="var">M</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfMapId</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DivConq.Dc.Functors.html#FmapId"><span class="id" title="definition">FmapId</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">t</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">TF</span>] |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfFunctor</span> <span class="id" title="var">T</span> <span class="id" title="var">tfMapId</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">refine</span> {| <a class="idref" href="DivConq.Dc.Functors.html#fmap"><span class="id" title="method">fmap</span></a> := <span class="id" title="var">_</span> ; <a class="idref" href="DivConq.Dc.Functors.html#fmapId"><span class="id" title="method">fmapId</span></a> := <span class="id" title="var">_</span> |}; <span class="id" title="tactic">apply</span> <span class="id" title="var">tfMapId</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">dctf_kind</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params'</span> <span class="id" title="var">T</span>; <span class="id" title="tactic">exact</span> <span class="id" title="keyword">Set</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">dctf</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">mark_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="DivConq.Dc.Dc.html#Dc"><span class="id" title="definition">Dc</span></a> <span class="id" title="var">_</span>); <span class="id" title="var">exact_build</span> <span class="id" title="var">TF</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intf_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">DCTF</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">K'</span> <span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">K</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intf</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mark_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="tactic">refine</span> (@<a class="idref" href="DivConq.Dc.Dc.html#inDc"><span class="id" title="definition">inDc</span></a> <span class="id" title="var">K</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="tactic">assumption</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">outtf_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">DCTF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K'</span> ⇒ <span class="id" title="tactic">exact</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">K'</span> <span class="id" title="var">K</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">outtf</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> <span class="id" title="var">TFunctor</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">mark_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">DCTF</span>] |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">revert</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">TFApp</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">TFunctor</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">funct</span> ⇒ <span class="id" title="tactic">refine</span> (@<a class="idref" href="DivConq.Dc.Dc.html#out"><span class="id" title="definition">out</span></a> <span class="id" title="var">TFApp</span> <span class="id" title="var">funct</span> <span class="id" title="var">_</span> (<a class="idref" href="DivConq.Dc.Dc.html#sfold"><span class="id" title="definition">sfold</span></a> <span class="id" title="var">TFApp</span>))).<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">clear_params</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#Param"><span class="id" title="inductive">Param</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfold_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">T</span> &gt;&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">PT</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">PTF</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="tactic">fresh</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">fresh</span> "X" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clear_params</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="keyword">∀</span> (<a id="t:162" class="idref" href="#t:162"><span class="id" title="binder">t</span></a> : <span class="id" title="var">PT</span>) (<a id="X:163" class="idref" href="#X:163"><span class="id" title="binder">X</span></a> : <span class="id" title="keyword">Set</span>) (<a id="alg:164" class="idref" href="#alg:164"><span class="id" title="binder">alg</span></a> : <span class="id" title="var">PTF</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#X:163"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#X:163"><span class="id" title="variable">X</span></a>), <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#X:163"><span class="id" title="variable">X</span></a>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">intro_param_lets</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="var">countP</span> <span class="id" title="var">T</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">n</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><span class="id" title="var">n</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">introN</span> <span class="id" title="var">n</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">buildFold</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">intro_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">alg</span> := <span class="id" title="tactic">fresh</span> "alg" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? <span class="id" title="var">alg</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="tactic">fold</span> := <span class="id" title="tactic">fresh</span> "fold" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H'</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="keyword">context</span>[<span class="id" title="var">T</span>] |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="tactic">fresh</span> "t" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">fix</span> <span class="id" title="tactic">fold</span> (<a id="t:165" class="idref" href="#t:165"><span class="id" title="binder">t</span></a> : <span class="id" title="var">ty</span>) := <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">t</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">alg</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C1</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">unfold</span> <span class="id" title="var">H'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">constr</span> := <span class="id" title="var">get_head</span> <span class="id" title="var">C1</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">D</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">D</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> <span class="id" title="var">D</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">D</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ?<span class="id" title="var">lhs</span> ?<span class="id" title="var">rhs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">rhs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">ty</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">T</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> (<span class="id" title="tactic">fold</span> <span class="id" title="var">rhs</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">lhs</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <span class="id" title="var">rhs</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">go</span> <span class="id" title="var">lhs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">constr</span> ⇒ <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">∀</span> <a id="A:168" class="idref" href="#A:168"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Set</span>, <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">intro</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">run_template_program</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#get_corresp_ctor"><span class="id" title="definition">get_corresp_ctor</span></a> <span class="id" title="var">TF</span> <span class="id" title="keyword">constr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">c</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">c</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">cbv</span> <span class="id" title="tactic">in</span> (<span class="id" title="projection">my_projT2</span> <span class="id" title="var">c</span>) <span class="id" title="tactic">in</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">C1</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfoldT_kind</span> <span class="id" title="var">T</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params'</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">R</span> := <span class="id" title="tactic">fresh</span> "R" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="R:169" class="idref" href="#R:169"><span class="id" title="binder">R</span></a> : <span class="id" title="keyword">Set</span>), <span class="id" title="keyword">Set</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tfoldT</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">alg</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">intro_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="tactic">exact</span> (<a class="idref" href="DivConq.Dc.Dc.html#FoldT"><span class="id" title="definition">FoldT</span></a> (<span class="id" title="var">alg</span> <span class="id" title="var">K</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">toDCTF_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">DCTF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">T</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">PT</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">DCTF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">PDCTF</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<span class="id" title="var">PT</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">PDCTF</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">toDCTF</span> <span class="id" title="var">T</span> <span class="id" title="var">DCTF</span> <span class="id" title="var">TFold</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">intro_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t</span> := <span class="id" title="tactic">fresh</span> "t" <span class="id" title="tactic">in</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">t</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">TFold</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">PTFold</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">PTFold</span> <span class="id" title="var">t</span> <span class="id" title="var">_</span> (<a class="idref" href="DivConq.Dc.Dc.html#inDc"><span class="id" title="definition">inDc</span></a> <span class="id" title="var">_</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fromDCTFr_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TFoldT</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">R</span> := <span class="id" title="tactic">fresh</span> "R" <span class="id" title="tactic">in</span> <span class="id" title="keyword">let</span> <span class="id" title="var">fo</span> := <span class="id" title="tactic">fresh</span> "fo" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">build_params</span> <span class="id" title="var">TFoldT</span> &gt;&gt;<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">PTFoldT</span> ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="R:170" class="idref" href="#R:170"><span class="id" title="binder">R</span></a> : <span class="id" title="keyword">Set</span>) (<a id="fo:171" class="idref" href="#fo:171"><span class="id" title="binder">fo</span></a> : <span class="id" title="var">PTFoldT</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#R:170"><span class="id" title="variable">R</span></a>), (<span class="id" title="var">_</span> : <span class="id" title="keyword">Set</span>))));<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [ <span class="id" title="var">A</span> : <span class="id" title="keyword">Set</span> |- <span class="id" title="var">_</span> ] ⇒ <span class="id" title="tactic">refine</span> (<span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">exact_build</span> <span class="id" title="var">T</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fromdctfr</span> <span class="id" title="var">T</span> <span class="id" title="var">TFMap</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">intro_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">R</span> := <span class="id" title="tactic">fresh</span> "R" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fo</span> := <span class="id" title="tactic">fresh</span> "fo" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">R</span> <span class="id" title="var">fo</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">fo</span> (<a class="idref" href="DivConq.Dc.Functors.html#Const"><span class="id" title="definition">Const</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="DivConq.Dc.Functors.html#FunConst"><span class="id" title="instance">FunConst</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="DivConq.Dc.Dc.html#rollAlg"><span class="id" title="definition">rollAlg</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rc</span> := <span class="id" title="tactic">fresh</span> "rec" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fr</span> := <span class="id" title="tactic">fresh</span> "fr" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tfmap</span> := <span class="id" title="tactic">fresh</span> "tfmap" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">rc</span> <span class="id" title="var">fr</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">TFMap</span> <span class="id" title="keyword">as</span> <span class="id" title="var">tfmap</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">tfmap</span> <span class="id" title="tactic">in</span> <span class="id" title="var">rc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">rc</span> <span class="id" title="tactic">in</span> <span class="id" title="var">fr</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ltac_mark"><span class="id" title="constructor">ltac_mark</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">fr</span> <span class="id" title="var">eqn</span>:?<span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="DivConq.Dc.Functors.html#Const"><span class="id" title="definition">Const</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id" title="var">H</span> : ?<span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> ?<span class="id" title="var">C</span> |- <span class="id" title="var">_</span> ] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">h</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">get_head</span> <span class="id" title="var">C</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">gen_until_mark</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">run_template_program</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#get_corresp_ctor"><span class="id" title="definition">get_corresp_ctor</span></a> <span class="id" title="var">T</span> <span class="id" title="var">h</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">xs</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">xs</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> (<span class="id" title="projection">my_projT2</span> <span class="id" title="var">xs</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">xs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fromDCTF_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">DCTF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">DCTF</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">PDCTF</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">T</span> &gt;&gt; (<span class="id" title="keyword">fun</span> <span class="id" title="var">PT</span> ⇒ <span class="id" title="tactic">exact</span> (<span class="id" title="var">PDCTF</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">PT</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fromDCTF</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">fromDCTFr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">intro_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">fromDCTFr</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">f</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">TF</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">TFP</span> ⇒ <span class="id" title="tactic">exact</span> (<span class="id" title="var">f</span> (<a class="idref" href="DivConq.Dc.Dc.html#Dc"><span class="id" title="definition">Dc.Dc</span></a> <span class="id" title="var">TFP</span>) (<a class="idref" href="DivConq.Dc.Dc.html#fold"><span class="id" title="definition">fold</span></a> <span class="id" title="var">TFP</span>) <span class="id" title="var">H</span>))).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">mkkinds</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">rparams</span> <span class="id" title="var">U</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">U</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">∀</span> (<a id="A:173" class="idref" href="#A:173"><span class="id" title="binder">A</span></a> : ?<span class="id" title="var">S</span>), ?<span class="id" title="var">V</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">x</span> := <span class="id" title="tactic">fresh</span> "x" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="keyword">∀</span> (<a id="x:174" class="idref" href="#x:174"><span class="id" title="binder">x</span></a> : <span class="id" title="var">S</span>), (<span class="id" title="var">_</span> : <span class="id" title="keyword">Set</span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rparams</span> <span class="id" title="var">V</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">process</span> <span class="id" title="var">xs</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">name</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="constructor">existT_typed_term</span> <span class="id" title="var">_</span> ?<span class="id" title="var">ctor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">refine_params</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">DCTF</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">D</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">ctor</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">K</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "K" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">K</span> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Kty</span> := <span class="id" title="keyword">type</span> <span class="id" title="keyword">of</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rparams</span> <span class="id" title="var">Kty</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">D</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">process</span> <span class="id" title="var">xs</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">run_template_program</span> (<span class="id" title="definition">get_ctors</span> <span class="id" title="var">TF</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">xs</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">xs</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xs</span> <span class="id" title="tactic">in</span> <span class="id" title="var">process</span> <span class="id" title="var">xs</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">smart_constrs</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> <span class="id" title="var">inTF</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">markT</span> <span class="id" title="var">T</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">process</span> <span class="id" title="var">xs</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">name</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="constructor">existT_typed_term</span> <span class="id" title="var">_</span> ?<span class="id" title="var">ctor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> ?<span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HCons"><span class="id" title="constructor">HCons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); [ <span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Strings.String.html#append"><span class="id" title="definition">append</span></a> "mk" <span class="id" title="var">name</span>) |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">func_params</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">build_params</span> <span class="id" title="var">DCTF</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">D</span> ⇒ <span class="id" title="var">build_params</span> <span class="id" title="var">ctor</span> &gt;&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">ctor</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> "K" <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">ctor</span> <span class="id" title="var">D</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="keyword">let</span> <span class="id" title="var">A</span> := <span class="id" title="tactic">fresh</span> "arg" <span class="id" title="tactic">in</span> <span class="id" title="tactic">intro</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> <span class="id" title="var">A</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">A</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">inTF</span>; <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">process</span> <span class="id" title="var">xs</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">exact</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#HNil"><span class="id" title="constructor">HNil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="var">run_template_program</span> (<span class="id" title="definition">get_ctors</span> <span class="id" title="var">TF</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">xs</span> ⇒ <span class="id" title="keyword">let</span> <span class="id" title="var">xs</span> := <span class="id" title="tactic">eval</span> <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">xs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">process</span> <span class="id" title="var">xs</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tsf_ctors_to_tm'</span> <span class="id" title="var">ctors</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">rec</span> <span class="id" title="var">go</span> <span class="id" title="var">xs</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">xs</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#cons'"><span class="id" title="constructor">cons'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a>?<span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">ctor</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ?<span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">ctor</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ ?<span class="id" title="var">P</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">P</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="record">tsf_skip_marker</span>) ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">quote_term</span> <span class="id" title="var">P</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">P</span> ⇒ <span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">P</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">_</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="var">go</span> <span class="id" title="var">xs</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">xs</span> := <span class="id" title="tactic">eval</span> <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ctors</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">go</span> <span class="id" title="var">xs</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="gen_functor" class="idref" href="#gen_functor"><span class="id" title="abbreviation">gen_functor</span></a> <span class="id" title="var">T</span> <span class="id" title="var">TName</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <a id="newFunSig:175" class="idref" href="#newFunSig:175"><span class="id" title="binder">newFunSig</span></a> : <span class="id" title="keyword">Type</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">buildFunKind</span> <span class="id" title="var">T</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="newFunCtors:176" class="idref" href="#newFunCtors:176"><span class="id" title="binder">newFunCtors</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tsf_ctors_ty'"><span class="id" title="abbreviation">tsf_ctors_ty'</span></a> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#:::'unfolded'_x"><span class="id" title="notation">unfolded</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#newFunSig:175"><span class="id" title="variable">newFunSig</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">ltac</span>:(<span class="id" title="keyword">let</span> <span class="id" title="var">X</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span> <span class="id" title="var">buildFunCtors</span> <span class="id" title="var">X</span> <span class="id" title="var">T</span> <span class="id" title="var">f</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="notation">'</span><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">(</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">mind</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">,</span></a> <a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">i</span></a><a id="pat:179" class="idref" href="#pat:179"><span class="id" title="binder">)</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="definition">tsf_get_mind</span> <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">quote_term</span> <span class="id" title="var">T</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">t</span> ⇒ <span class="id" title="tactic">exact</span> <span class="id" title="var">t</span>))<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="ctorsT:180" class="idref" href="#ctorsT:180"><span class="id" title="binder">ctorsT</span></a> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tsf_ctors_to_tm'</span> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#:::'unfolded'_x"><span class="id" title="notation">unfolded</span></a> <span class="id" title="var">newFunCtors</span>)) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ind_gen'"><span class="id" title="definition">ind_gen'</span></a> (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#:::'unfolded'_x"><span class="id" title="notation">unfolded</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#newFunSig:175"><span class="id" title="variable">newFunSig</span></a>) <span class="id" title="var">TName</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ctorsT:180"><span class="id" title="variable">ctorsT</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mind:178"><span class="id" title="variable">mind</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#i:177"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="gen_functor_defs_named" class="idref" href="#gen_functor_defs_named"><span class="id" title="abbreviation">gen_functor_defs_named</span></a> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">mapname</span> <span class="id" title="var">mapidname</span> <span class="id" title="var">functorname</span><br/>
&nbsp;&nbsp;<span class="id" title="var">dcname</span> <span class="id" title="var">inname</span> <span class="id" title="var">outname</span> <span class="id" title="var">foldname</span> <span class="id" title="var">foldTname</span> <span class="id" title="var">sfoldTname</span> <span class="id" title="var">toname</span> <span class="id" title="var">fromrname</span> <span class="id" title="var">froname</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">let</span> <a id="TFMap:181" class="idref" href="#TFMap:181"><span class="id" title="binder">TFMap</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfmap_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfmap</span> <span class="id" title="var">T</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="TFMapId:182" class="idref" href="#TFMapId:182"><span class="id" title="binder">TFMapId</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfMapId_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">TFMap</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfMapId</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="TFunctor:183" class="idref" href="#TFunctor:183"><span class="id" title="binder">TFunctor</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfFunctor_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfFunctor</span> <span class="id" title="var">T</span> <span class="id" title="var">TFMapId</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="DCTF:184" class="idref" href="#DCTF:184"><span class="id" title="binder">DCTF</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">dctf_kind</span> <span class="id" title="var">T</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">dctf</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inTF:185" class="idref" href="#inTF:185"><span class="id" title="binder">inTF</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">intf_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">intf</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="outTF:186" class="idref" href="#outTF:186"><span class="id" title="binder">outTF</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">outtf_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">outtf</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> <span class="id" title="var">TFunctor</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tFold:187" class="idref" href="#tFold:187"><span class="id" title="binder">tFold</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfold_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">buildFold</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tFoldT:188" class="idref" href="#tFoldT:188"><span class="id" title="binder">tFoldT</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfoldT_kind</span> <span class="id" title="var">T</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfoldT</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">Alg</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tsFoldT:189" class="idref" href="#tsFoldT:189"><span class="id" title="binder">tsFoldT</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfoldT_kind</span> <span class="id" title="var">T</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">tfoldT</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">SAlg</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="toDCTF:190" class="idref" href="#toDCTF:190"><span class="id" title="binder">toDCTF</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">toDCTF_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">DCTF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">toDCTF</span> <span class="id" title="var">T</span> <span class="id" title="var">DCTF</span> <span class="id" title="var">tFold</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fromdctfr:191" class="idref" href="#fromdctfr:191"><span class="id" title="binder">fromdctfr</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">fromDCTFr_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">tFoldT</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">fromdctfr</span> <span class="id" title="var">T</span> <span class="id" title="var">TFMap</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fromdctf:192" class="idref" href="#fromdctf:192"><span class="id" title="binder">fromdctf</span></a> : <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">fromDCTF_kind</span> <span class="id" title="var">T</span> <span class="id" title="var">DCTF</span>) := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">fromDCTF</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">fromdctfr</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mk_kinds:193" class="idref" href="#mk_kinds:193"><span class="id" title="binder">mk_kinds</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="keyword">Type</span> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">mkkinds</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mks:194" class="idref" href="#mks:194"><span class="id" title="binder">mks</span></a> : <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hlist"><span class="id" title="inductive">hlist</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mk_kinds:193"><span class="id" title="variable">mk_kinds</span></a> := <span class="id" title="keyword">ltac</span>:(<span class="id" title="var">smart_constrs</span> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <span class="id" title="var">DCTF</span> <span class="id" title="var">inTF</span>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="tfname:195" class="idref" href="#tfname:195"><span class="id" title="binder">tfname</span></a> := <span class="id" title="var">functorname</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">mapname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFMap:181"><span class="id" title="variable">TFMap</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">mapidname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFMapId:182"><span class="id" title="variable">TFMapId</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tfname:195"><span class="id" title="variable">tfname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFunctor:183"><span class="id" title="variable">TFunctor</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<a id="currModPath:196" class="idref" href="#currModPath:196"><span class="id" title="binder">currModPath</span></a> <span class="id" title="notation">&lt;-</span> <span class="id" title="constructor">tmCurrentModPath</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmExistingInstance</span> (<span class="id" title="constructor">ConstRef</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#currModPath:196"><span class="id" title="variable">currModPath</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tfname:195"><span class="id" title="variable">tfname</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">dcname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#DCTF:184"><span class="id" title="variable">DCTF</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">inname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#inTF:185"><span class="id" title="variable">inTF</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">outname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#outTF:186"><span class="id" title="variable">outTF</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">foldname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tFold:187"><span class="id" title="variable">tFold</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">foldTname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tFoldT:188"><span class="id" title="variable">tFoldT</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">sfoldTname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#tsFoldT:189"><span class="id" title="variable">tsFoldT</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">toname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#toDCTF:190"><span class="id" title="variable">toDCTF</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">fromrname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#fromdctfr:191"><span class="id" title="variable">fromdctfr</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="definition">tmDefinition</span> <span class="id" title="var">froname</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#fromdctf:192"><span class="id" title="variable">fromdctf</span></a><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#hmap"><span class="id" title="definition">hmap</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mk_kinds:193"><span class="id" title="variable">mk_kinds</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mks:194"><span class="id" title="variable">mks</span></a> <span class="id" title="definition">tmDefinition</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;<span class="id" title="constructor">tmReturn</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.2/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>) (<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="gen_functor_defs" class="idref" href="#gen_functor_defs"><span class="id" title="abbreviation">gen_functor_defs</span></a> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> :=<br/>
&nbsp;&nbsp;(<a id="TFName:197" class="idref" href="#TFName:197"><span class="id" title="binder">TFName</span></a> <span class="id" title="notation">&lt;-</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#ind_name"><span class="id" title="definition">ind_name</span></a> <span class="id" title="var">TF</span><span class="id" title="notation">;;</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mapname:198" class="idref" href="#mapname:198"><span class="id" title="binder">mapname</span></a> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "Map") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mapidname:199" class="idref" href="#mapidname:199"><span class="id" title="binder">mapidname</span></a> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "MapId") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="functorname:200" class="idref" href="#functorname:200"><span class="id" title="binder">functorname</span></a> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "Functor") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="dcname:201" class="idref" href="#dcname:201"><span class="id" title="binder">dcname</span></a> := ("DC" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="inname:202" class="idref" href="#inname:202"><span class="id" title="binder">inname</span></a> := ("in_" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="outname:203" class="idref" href="#outname:203"><span class="id" title="binder">outname</span></a> := ("out_" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="foldname:204" class="idref" href="#foldname:204"><span class="id" title="binder">foldname</span></a> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "Fold") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="foldTname:205" class="idref" href="#foldTname:205"><span class="id" title="binder">foldTname</span></a> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "FoldT") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="sfoldTname:206" class="idref" href="#sfoldTname:206"><span class="id" title="binder">sfoldTname</span></a> := (<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "SFoldT") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="toname:207" class="idref" href="#toname:207"><span class="id" title="binder">toname</span></a> := ("to_" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "DC") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fromrname:208" class="idref" href="#fromrname:208"><span class="id" title="binder">fromrname</span></a> := ("from_" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "DCr") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="fromname:209" class="idref" href="#fromname:209"><span class="id" title="binder">fromname</span></a> := ("from_" <span class="id" title="notation">^</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#TFName:197"><span class="id" title="variable">TFName</span></a> <span class="id" title="notation">^</span> "DC") <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#gen_functor_defs_named"><span class="id" title="abbreviation">gen_functor_defs_named</span></a> <span class="id" title="var">T</span> <span class="id" title="var">TF</span> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mapname:198"><span class="id" title="variable">mapname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#mapidname:199"><span class="id" title="variable">mapidname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#functorname:200"><span class="id" title="variable">functorname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#dcname:201"><span class="id" title="variable">dcname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#inname:202"><span class="id" title="variable">inname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#outname:203"><span class="id" title="variable">outname</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#foldname:204"><span class="id" title="variable">foldname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#foldTname:205"><span class="id" title="variable">foldTname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#sfoldTname:206"><span class="id" title="variable">sfoldTname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#toname:207"><span class="id" title="variable">toname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#fromrname:208"><span class="id" title="variable">fromrname</span></a> <a class="idref" href="DivConq.FunctorGenerators.Functorializer.html#fromname:209"><span class="id" title="variable">fromname</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="var">only</span> <span class="id" title="var">parsing</span>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>